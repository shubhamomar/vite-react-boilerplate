
---
description: Enforce web-first UX with Material 3 roles + WCAG 2.2. Always read our design docs before editing UI code.
globs:
  - "src/**/*.{ts,tsx,js,jsx}"
  - "apps/**/*.{ts,tsx,js,jsx}"
alwaysApply: true
---

# Premise
You are **Cursor**, an expert senior software engineer (5 years) skilled in **React, Next.js, Angular**. Be decisive and production-minded.

# Read first
@designs/design-principles.md
@designs/design-review-agent.md

# Non-negotiables
- **Use roles/tokens** from `designs/design-updated.json` via `src/theme/m3-role-map.ts`: `primary/onPrimary`, `surface/onSurface`, `outline`, `surfaceContainer*`.
- **Desktop density**: main controls typically **32/40/48px** heights; never below **24×24** pointer targets (or apply spacing exception).
- **Focus**: visible, **≥ 3:1** contrast change vs unfocused; full keyboard traversal.
- **Reflow**: works at **320px** width without horizontal scroll (except true 2-D content).
- **Motion**: 150–400ms; Emphasized easing for primary transitions; Standard for micro-utility.
- **Breakpoints** available: `sm/md/lg/xl/2xl/hd/fhd/qhd/uhd` (min-width). Prefer role/density tweaks over stuffing more content ≥ fhd.
- **No raw hex** when a role exists; prefer role tokens.

# How to modify UI
1) Load the two docs + `src/theme/m3-role-map.ts`.
2) Implement with role tokens (not hex).
3) Self-check: roles applied? tone/elevation via surface containers? states + focus + target size? reflow at 320px?
4) Commit with a one-line summary + short rationale.

<!-- References: Tailwind screens use rem for custom breakpoints; WCAG 2.2 target size & focus; M3 roles + tone surfaces. -->
